<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Manage Menu</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; background: #3c0c03 ; }
  h2 { color: #dac8b9; }
 
  input, select, textarea { width: 100%; padding: 8px; margin-bottom: 10px; border-radius: 4px; border: 1px solid #ccc; }
  button { padding: 8px 12px; border: none; border-radius: 4px; cursor: pointer; margin-right: 5px; }
  .btn-add { background: #724d2c; color: #fff; }
  .btn-edit { background: #724d2c; color: #fff; }
  .btn-delete { background:#724d2c; color: #fff; }
  table { width: 80%; margin: auto; border-collapse: collapse; background: #3c0c03; border-radius: 8px; overflow: hidden; }
  th, td { padding: 10px; border-bottom: 1px solid #ddd; text-align: left; }
  tr:hover { background: #f2f2f2; }
  th { background: #724d2c; color: #fff; }
  label{ color:rgb(255, 255, 255) ;}
 
</style>

<link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Poppins:wght@400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/header.css">
</head>
<body>

      <!-- NAVBAR -->
    <nav class="navbar">
        <div class="logo">Header Life</div>
        <ul class="nav-links">
            <li><a href="main.html">Home</a></li>
            <li><a href="menu.html">Menu</a></li>
            <li><a href="reservation.html">reservation</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="userfeedback.html">Feedback</a></li>
            <li><a href="login.html">login</a></li>
            <li><a href="signup.html">signup</a></li>

        </ul>
    </nav>

<h2>Manage Menu</h2>

<form id="menuForm">
  <label>Name:</label>
  <input type="text" id="itemName" required>

  <label>Price ($):</label>
  <input type="number" id="itemPrice" required>

  <label>Category:</label>
  <select id="itemCategory">
    <option value="Starter">Starter</option>
    <option value="Main">Main</option>
    <option value="Dessert">Dessert</option>
    <option value="Drinks">Drinks</option>
  </select>

  <label>Description:</label>
  <textarea id="itemDescription" rows="2" required></textarea>

  <button type="submit" class="btn btn-add">Add Item</button>
  <button type="button" id="cancelEdit" class="btn" style="display:none;">Cancel Edit</button>
</form>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Price ($)</th>
      <th>Category</th>
      <th>Description</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody id="menuBody"></tbody>
</table>

<script>
let menu = [];
let editIndex = null;

const form = document.getElementById('menuForm');
const menuBody = document.getElementById('menuBody');
const cancelBtn = document.getElementById('cancelEdit');

form.addEventListener('submit', function(e) {
  e.preventDefault();

  const item = {
    name: document.getElementById('itemName').value,
    price: parseFloat(document.getElementById('itemPrice').value),
    category: document.getElementById('itemCategory').value,
    description: document.getElementById('itemDescription').value
  };

  if(editIndex !== null) {
    // Update
    menu[editIndex] = item;
    editIndex = null;
    cancelBtn.style.display = 'none';
  } else {
    // Add new
    menu.push(item);
  }

  renderMenu();
  form.reset();
});

cancelBtn.addEventListener('click', function() {
  form.reset();
  editIndex = null;
  cancelBtn.style.display = 'none';
});

function renderMenu() {
  menuBody.innerHTML = '';
  menu.forEach((m, i) => {
    menuBody.innerHTML += `
      <tr>
        <td>${m.name}</td>
        <td>${m.price.toFixed(2)}</td>
        <td>${m.category}</td>
        <td>${m.description}</td>
        <td>
          <button class="btn btn-edit" onclick="editMenu(${i})">Edit</button>
          <button class="btn btn-delete" onclick="deleteMenu(${i})">Delete</button>
        </td>
      </tr>
    `;
  });
}

function deleteMenu(i) {
  if(confirm('Are you sure you want to delete this item?')) {
    menu.splice(i,1);
    renderMenu();
  }
}

function editMenu(i) {
  const m = menu[i];
  document.getElementById('itemName').value = m.name;
  document.getElementById('itemPrice').value = m.price;
  document.getElementById('itemCategory').value = m.category;
  document.getElementById('itemDescription').value = m.description;
  editIndex = i;
  cancelBtn.style.display = 'inline-block';
}
</script>

</body>
</html>