<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Show User Reservations</title>
    <link rel="stylesheet" href="css/header.css">

<style>
  body {
    font-family: Arial, sans-serif;
    padding: 20px;
    background: #3c0c03;
  }

  h2 {
    margin-top: 70px;
    color: #dac8b9;
    text-align: center;
    margin-bottom: 30px;
  }

  table {
    width: 90%;
    margin: auto;
    border-collapse: collapse;
    background: #ffffff;
    border-radius: 10px;
    overflow: hidden;
  }

  th, td {
    padding: 12px;
    border-bottom: 1px solid #ddd;
    text-align: left;
  }

  th {
    background: #724d2c;
    color: white;
  }

  tr:hover {
    background: #f2f2f2;
  }

  .btn-delete {
    background: #724d2c;
    color: #fff;
    padding: 6px 12px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }

  .no-data {
    text-align: center;
    color: white;
    margin-top: 20px;
    font-size: 18px;
  }

    .back-btn {
    position: fixed;
    top: 90px;
    left: 20px;
    background: rgba(255, 255, 255, 0.15);
    color: #D4AF37;
    padding: 8px 15px;
    border-radius: 8px;
    font-size: 16px;
    text-decoration: none;
    backdrop-filter: blur(6px);
    box-shadow: 0 0 10px rgba(0,0,0,0.4);
    transition: 0.3s ease;
}

.back-btn:hover {
    background: rgba(255, 255, 255, 0.25);
    transform: scale(1.05);
}

</style>
</head>

<body>

          <!-- NAVBAR -->
    <nav class="navbar">
        <div class="logo">Header Life</div>
        <ul class="nav-links">
            <li><a href="main.html">Home</a></li>
            <li><a href="menu.html">Menu</a></li>
            <li><a href="reservation.html">reservation</a></li>
            <li><a href="main.html#history">About</a></li>
            <li><a href="userfeedback.html">Feedback</a></li>
            <li><a href="login.html">login</a></li>
            <li><a href="signup.html">signup</a></li>

        </ul>
    </nav>

    <a href="Adashboard.html" class="back-btn">← Back</a>

<h2>User Reservations</h2>

<table>
  <thead>
    <tr>
      <th>User Name</th>
      <th>Table</th>
      <th>Guests</th>
      <th>Date</th>
      <th>Time</th>
      <th>Notes</th>
      <th>Action</th>
    </tr>
  </thead>

  <tbody id="reservationBody"></tbody>
</table>

<p id="emptyMessage" class="no-data" style="display:none;">No Reservations Found</p>

<script>

function loadReservations() {
  let list = JSON.parse(localStorage.getItem("reservations") || "[]");
  const body = document.getElementById("reservationBody");
  const emptyMsg = document.getElementById("emptyMessage");

  body.innerHTML = "";

  if (list.length === 0) {
    emptyMsg.style.display = "block";
    return;
  }

  emptyMsg.style.display = "none";

  list.forEach((r, i) => {
    body.innerHTML += `
      <tr>
        <td>${r.userName}</td>
        <td>${r.tableName}</td>
        <td>${r.guests}</td>
        <td>${r.date}</td>
        <td>${r.time}</td>
        <td>${r.note || "—"}</td>
        <td>
          <button class="btn-delete" onclick="deleteReservation(${i})">Delete</button>
        </td>
      </tr>
    `;
  });
}

function deleteReservation(index) {
  if (!confirm("Are you sure you want to delete this reservation?")) return;

  let list = JSON.parse(localStorage.getItem("reservations") || "[]");
  list.splice(index, 1);
  localStorage.setItem("reservations", JSON.stringify(list));
  loadReservations();
}

loadReservations();

</script>

</body>
</html>