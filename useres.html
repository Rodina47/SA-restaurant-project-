<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Show User Reservations</title>

<style>
  body {
    font-family: Arial, sans-serif;
    padding: 20px;
    background: #3c0c03;
  }

  h2 {
    color: #dac8b9;
    text-align: center;
    margin-bottom: 30px;
  }

  table {
    width: 90%;
    margin: auto;
    border-collapse: collapse;
    background: #ffffff;
    border-radius: 10px;
    overflow: hidden;
  }

  th, td {
    padding: 12px;
    border-bottom: 1px solid #ddd;
    text-align: left;
  }

  th {
    background: #724d2c;
    color: white;
  }

  tr:hover {
    background: #f2f2f2;
  }

  .btn-delete {
    background: #724d2c;
    color: #fff;
    padding: 6px 12px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }

  .no-data {
    text-align: center;
    color: white;
    margin-top: 20px;
    font-size: 18px;
  }
</style>
</head>

<body>

<h2>User Reservations</h2>

<table>
  <thead>
    <tr>
      <th>User Name</th>
      <th>Table</th>
      <th>Guests</th>
      <th>Date</th>
      <th>Time</th>
      <th>Notes</th>
      <th>Action</th>
    </tr>
  </thead>

  <tbody id="reservationBody"></tbody>
</table>

<p id="emptyMessage" class="no-data" style="display:none;">No Reservations Found</p>

<script>

function loadReservations() {
  let list = JSON.parse(localStorage.getItem("reservations") || "[]");
  const body = document.getElementById("reservationBody");
  const emptyMsg = document.getElementById("emptyMessage");

  body.innerHTML = "";

  if (list.length === 0) {
    emptyMsg.style.display = "block";
    return;
  }

  emptyMsg.style.display = "none";

  list.forEach((r, i) => {
    body.innerHTML += `
      <tr>
        <td>${r.userName}</td>
        <td>${r.tableName}</td>
        <td>${r.guests}</td>
        <td>${r.date}</td>
        <td>${r.time}</td>
        <td>${r.note || "â€”"}</td>
        <td>
          <button class="btn-delete" onclick="deleteReservation(${i})">Delete</button>
        </td>
      </tr>
    `;
  });
}

function deleteReservation(index) {
  if (!confirm("Are you sure you want to delete this reservation?")) return;

  let list = JSON.parse(localStorage.getItem("reservations") || "[]");
  list.splice(index, 1);
  localStorage.setItem("reservations", JSON.stringify(list));
  loadReservations();
}

loadReservations();

</script>

</body>
</html>